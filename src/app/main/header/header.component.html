<mat-toolbar color="primary" class="header-toolbar">
  <div class="toolbar-content">
    <!-- Logo -->
    <div class="logo-section" (click)="goToHome()">
      <img src="assets/img/logo/logo.png" alt="Bestell App" class="logo">
    </div>

    <!-- Navigation -->
    <div class="nav-section">
      <button mat-button routerLink="/">
        <mat-icon>home</mat-icon>
        Startseite
      </button>
      <button mat-button routerLink="/restaurants">
        <mat-icon>restaurant</mat-icon>
        Restaurants
      </button>
    </div>

    <!-- Actions -->
    <div class="actions-section">
      <!-- Cart -->
      <button mat-icon-button (click)="openCart()" class="cart-button">
        <mat-icon [matBadge]="cartItemCount" [matBadgeHidden]="cartItemCount === 0" matBadgeColor="accent" aria-hidden="false">
          shopping_cart
        </mat-icon>
      </button>

      <!-- User Menu -->
      <div *ngIf="isAuthenticated$ | async; else loginButton">
        <button mat-icon-button [matMenuTriggerFor]="userMenu">
          <mat-icon>account_circle</mat-icon>
        </button>
        <mat-menu #userMenu="matMenu">
          <button mat-menu-item (click)="goToProfile()">
            <mat-icon>person</mat-icon>
            <span>Profil</span>
          </button>
          <button mat-menu-item (click)="goToOrders()">
            <mat-icon>receipt_long</mat-icon>
            <span>Meine Bestellungen</span>
          </button>
          <mat-divider></mat-divider>
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Abmelden</span>
          </button>
        </mat-menu>
      </div>

      <ng-template #loginButton>
        <button mat-button (click)="login()">
          <mat-icon>login</mat-icon>
          Anmelden
        </button>
      </ng-template>
    </div>
  </div>
</mat-toolbar>